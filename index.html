<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Move Volume Estimator</title>
  <style>
    body {font-family: Arial, sans-serif; margin:0; padding:20px; background:#0a1a3c; color:#fff;}
    h1 {text-align:center; margin-bottom:20px;}
    .tabs {display:flex; flex-wrap:wrap; gap:10px; margin-bottom:20px;}
    .tab {padding:10px 15px; border-radius:20px; border:1px solid #fff; cursor:pointer; background:#19376d; color:#fff;}
    .tab.active {background:#ffd166; color:#000; font-weight:bold;}
    .grid {display:grid; grid-template-columns:repeat(auto-fill,minmax(250px,1fr)); gap:10px;}
    .tile {background:#10244f; border:1px solid #444; border-radius:10px; padding:10px; display:flex; justify-content:space-between; align-items:center;}
    .qty {display:flex; align-items:center; gap:5px;}
    .qty button {padding:4px 10px; cursor:pointer;}
    .panel {margin-top:20px; padding:15px; border-radius:10px; background:#19376d;}
    .stat {margin:10px 0;}
  </style>
</head>
<body>
  <h1>ðŸ“¦ Move Volume Estimator</h1>
  
  <div class="tabs" id="tabs"></div>
  <div class="grid" id="tiles"></div>

  <div class="panel">
    <h2>Job Details</h2>
    <label>Property type:
      <select id="propertyType">
        <option value="house">House</option>
        <option value="flat">Flat</option>
        <option value="office">Office</option>
      </select>
    </label>
    <br><br>
    <label>Floors: <input type="number" id="floors" value="0" min="0" /></label>
    <br><br>
    <label>Flat floor: <input type="number" id="flatFloor" value="0" min="0" /></label>
    <br><br>
    <label>Lift available:
      <select id="lift">
        <option value="no">No</option>
        <option value="yes">Yes</option>
      </select>
    </label>
    <br><br>
    <label>Stair steps: <input type="number" id="stairs" value="0" min="0" /></label>
    <br><br>
    <label>Distance to van (m): <input type="number" id="distance" value="5" min="0" /></label>
  </div>

  <div class="panel">
    <h2>Summary</h2>
    <div class="stat">Total Volume: <span id="totalVol">0.00</span> mÂ³</div>
    <div class="stat">Items: <span id="itemsCount">0</span></div>
    <div class="stat">Recommended Crew: <span id="crew">â€”</span></div>
    <div class="stat">Recommended Vehicle: <span id="vehicle">â€”</span></div>
    <div class="stat">Estimated Time: <span id="time">â€”</span></div>
  </div>

  <script>
    // Tabs
    const TABS = ["Living Room","Dining","Kitchen","Master Bedroom","Bedroom 1","Bedroom 2","Bedroom 3","Garden","Office","Boxes","Misc"];
    const ITEMS = [
      {tab:"Living Room",name:"Sofa 2-Seater",vol:1.5},
      {tab:"Living Room",name:"Sofa 3-Seater",vol:2.0},
      {tab:"Living Room",name:"Corner Sofa",vol:3.5},
      {tab:"Living Room",name:"Armchair",vol:0.8},
      {tab:"Living Room",name:"TV 32",vol:0.2},
      {tab:"Living Room",name:"TV 50",vol:0.3},
      {tab:"Living Room",name:"TV 65",vol:0.4},
      {tab:"Living Room",name:"Piano Upright",vol:2.5},
      {tab:"Living Room",name:"Piano Grand",vol:3.5},
      {tab:"Living Room",name:"Piano Electric",vol:0.8},
      {tab:"Dining",name:"Dining Table Large",vol:1.2},
      {tab:"Dining",name:"Dining Chair",vol:0.3},
      {tab:"Kitchen",name:"Microwave",vol:0.2},
      {tab:"Kitchen",name:"Dishwasher",vol:0.8},
      {tab:"Kitchen",name:"Washing Machine",vol:0.8},
      {tab:"Kitchen",name:"Fridge",vol:1.2},
      {tab:"Kitchen",name:"American Fridge",vol:1.8},
      {tab:"Kitchen",name:"Range Cooker",vol:1.2},
      {tab:"Kitchen",name:"Freezer Chest",vol:1.0},
      {tab:"Garden",name:"Outdoor Table",vol:1.0},
      {tab:"Garden",name:"Outdoor Chair",vol:0.4},
      {tab:"Garden",name:"BBQ Grill",vol:0.7},
      {tab:"Garden",name:"Outdoor Plant",vol:0.25},
      {tab:"Garden",name:"Indoor Plant",vol:0.25},
      {tab:"Boxes",name:"Small Box",vol:0.05},
      {tab:"Boxes",name:"Medium Box",vol:0.1},
      {tab:"Boxes",name:"Large Box",vol:0.15},
      {tab:"Boxes",name:"Wardrobe Box",vol:0.3}
    ];
    let state={tab:"Living Room",quantities:{}};

    const tabsDiv=document.getElementById("tabs");
    const tilesDiv=document.getElementById("tiles");
    const elTotal=document.getElementById("totalVol");
    const elItems=document.getElementById("itemsCount");
    const elCrew=document.getElementById("crew");
    const elVehicle=document.getElementById("vehicle");
    const elTime=document.getElementById("time");

    function renderTabs(){
      tabsDiv.innerHTML="";
      TABS.forEach(t=>{
        const b=document.createElement("div");
        b.className="tab"+(t===state.tab?" active":"");
        b.textContent=t;
        b.onclick=()=>{state.tab=t;renderTabs();renderTiles();};
        tabsDiv.appendChild(b);
      });
    }
    function renderTiles(){
      tilesDiv.innerHTML="";
      ITEMS.filter(i=>i.tab===state.tab).forEach(it=>{
        const key=it.tab+"|"+it.name;
        const qty=state.quantities[key]||0;
        const d=document.createElement("div");
        d.className="tile";
        d.innerHTML=`<div><b>${it.name}</b><br><small>${it.vol} mÂ³</small></div>
          <div class="qty">
            <button onclick="updateQty('${key}',${it.vol},-1)">-</button>
            <span>${qty}</span>
            <button onclick="updateQty('${key}',${it.vol},1)">+</button>
          </div>`;
        tilesDiv.appendChild(d);
      });
    }
    function updateQty(key,vol,delta){
      state.quantities[key]=(state.quantities[key]||0)+delta;
      if(state.quantities[key]<0) state.quantities[key]=0;
      recompute();
      renderTiles();
    }
    function recompute(){
      let total=0, count=0;
      for(const k in state.quantities){
        const qty=state.quantities[k];
        if(qty>0){
          const it=ITEMS.find(i=>k===i.tab+"|"+i.name);
          if(it){total+=it.vol*qty; count+=qty;}
        }
      }
      elTotal.textContent=total.toFixed(2);
      elItems.textContent=count;
      let crew="2 movers"; if(total>10) crew="3 movers"; if(total>26) crew="3 movers (full Luton)"; if(total>35) crew="4 movers"; elCrew.textContent=crew;
      let vehicle="1 Luton (26 mÂ³)"; if(total>26) vehicle="1 Low Loader (40 mÂ³)"; if(total>40) vehicle="2 Lutons"; elVehicle.textContent=vehicle;
      let hours=(total/ (3*2)); elTime.textContent=hours.toFixed(1)+" h";
    }
    renderTabs();renderTiles();recompute();
  </script>
</body>
</html>
